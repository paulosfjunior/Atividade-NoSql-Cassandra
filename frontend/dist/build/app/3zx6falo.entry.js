const t=window.App.h;import{b as e,c as r}from"./chunk-fc32b4f0.js";class a{constructor(){this.itemsProvider=new e,this.cartProvider=new r,this.cartList=[],this.itemsList=[],this.update=0,this.itemsProvider.getList().subscribe(t=>{this.itemsList=t}),this.cartProvider.getList().subscribe(t=>{this.cartList=t})}componentDidLoad(){this.itemsProvider.updateList(),this.cartProvider.updateList()}render(){return[t("div",null,t("app-header",{name:"Nova Compra",isCart:!0,isHome:!1}),t("ion-header",null,t("ion-toolbar",null,t("ion-title",null,"Selecione os item que deseja comprar")),this.cartProvider.getEnableCart()?t("ion-button",{onClick:()=>{this.showModal(!0),this.update++}},t("ion-icon",{name:"cart"}),"ver Carrinho"):t("ion-button",{onClick:()=>{this.cartProvider.newCart(),this.update++}},t("ion-icon",{name:"cart"}),"Novo Carrinho")),this.cartProvider.getEnableCart()?t("ion-list",null,this.itemsList.map(e=>t("ion-item",null,t("div",{class:"produto"},e.nome,t("div",null,"qnt:",t("input",{type:"number",onChange:t=>{e.quantidade=t.target.value,this.update++}})),t("button",{class:"Price B",onClick:()=>{this.cartProvider.addItemToCart(e),this.update++}},e.preco*e.quantidade,t("br",null),"Comprar"))))):"",t("app-open-cart-modal",{onClose:()=>{this.update++},cartProvider:this.cartProvider}))]}showModal(t){t&&(this.el.querySelector("app-open-cart-modal").open=!0)}static get is(){return"app-buy"}static get properties(){return{cartList:{state:!0},cartProvider:{state:!0},el:{elementRef:!0},itemsList:{state:!0},itemsProvider:{state:!0},update:{state:!0}}}static get style(){return".Price{border-color:green;padding:1vh;border-radius:5px;background-color:inherit}.Price.B{-webkit-box-shadow:0 0 0 1px green;box-shadow:0 0 0 1px green}.B:before{content:\"R$: \"}.produto{width:100%;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-shadow:2px;box-shadow:2px;padding:2%}.produto input{width:7vh}"}}class i{constructor(){this.open=!1,this.cartProvider=null}componentDidLoad(){this.el.querySelector("span").onclick=(()=>{this.close.emit()})}endCart(t){this.cartProvider.closeEnableCart(t),this.close.emit()}onCloseHandler(){this.open=!1}render(){return[t("div",{style:{display:this.open?"block":"none"},id:"myModal",class:"modal"},t("div",{class:"modal-content"},t("span",{class:"close"},"Ã—"),this.cartProvider.getEnableCart()?[this.cartProvider.getEnableCart()].map(e=>[t("div",null,t("h1",null,(()=>e.clente.nome)()),e.carrinho.length?e.carrinho.map(e=>t("ion-item",null,e.produto+" *"+e.quantidade,t("div",{class:"cartItemPrice"},e.valor_total))):t("h4",{class:"emptyCart"},"Carrinho vazio"),this.cartProvider.getEnableCart().carrinho.length?t("div",null,t("div",{class:"dropdown"},t("ion-button",{id:"endCart"},"Finalizar Compra"),t("div",{class:"dropdown-content"},t("ion-button",{expand:"full",class:"Credito",color:"danger",onClick:t=>{this.endCart(t.target.getAttribute("class"))}},"Credito"),t("ion-button",{expand:"full",class:"Debito",color:"danger",onClick:t=>{this.endCart(t.target.getAttribute("class"))}},"Debito"),t("ion-button",{expand:"full",class:"A vista",color:"danger",onClick:t=>{this.endCart(t.target.getAttribute("class"))}},"A Vista"),t("ion-button",{expand:"full",class:"Boleto Bancario",color:"danger",onClick:t=>{this.endCart(t.target.getAttribute("class"))}},"Boleto Bancario")))):"")]):""))]}static get is(){return"app-open-cart-modal"}static get properties(){return{cartProvider:{type:"Any",attr:"cart-provider",mutable:!0},el:{elementRef:!0},open:{type:Boolean,attr:"open",mutable:!0}}}static get events(){return[{name:"close",method:"close",bubbles:!0,cancelable:!0,composed:!0}]}static get listeners(){return[{name:"close",method:"onCloseHandler"}]}static get style(){return".modal{position:fixed;z-index:10;padding-top:100px;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content{background-color:#fefefe;margin:auto;padding:20px;border:1px solid #888;width:80%}.close{color:#aaa;float:right;font-size:28px;font-weight:700}.close:focus,.close:hover{color:#000;text-decoration:none;cursor:pointer}.emptyCart{text-align:center;color:#888}.dropdown{position:relative;display:inline-block}.dropdown-content{display:none;position:absolute;background-color:#f9f9f9;min-width:160px;-webkit-box-shadow:0 8px 16px 0 rgba(0,0,0,.2);box-shadow:0 8px 16px 0 rgba(0,0,0,.2);padding:12px 16px;z-index:1}.dropdown:hover .dropdown-content{display:block}"}}export{a as AppBuy,i as AppOpenCartModal};