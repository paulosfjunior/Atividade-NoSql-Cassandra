var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};function r(r,e){function s(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}function e(t){return"function"==typeof t}var s=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){s=t},get useDeprecatedSynchronousErrorHandling(){return s}};function n(t){setTimeout(function(){throw t},0)}var o={closed:!0,next:function(t){},error:function(t){if(i.useDeprecatedSynchronousErrorHandling)throw t;n(t)},complete:function(){}},a=Array.isArray||function(t){return t&&"number"==typeof t.length};function u(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,r){return r+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}u.prototype=Object.create(Error.prototype);var c=u,h=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var r;return t.prototype.unsubscribe=function(){var r,s;if(!this.closed){var i=this._parentOrParents,n=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof t)i.remove(this);else if(null!==i)for(var u=0;u<i.length;++u)i[u].remove(this);if(e(n))try{n.call(this)}catch(t){r=t instanceof c?l(t.errors):[t]}if(a(o)){u=-1;for(var h=o.length;++u<h;){var p=o[u];if(null!==(s=p)&&"object"==typeof s)try{p.unsubscribe()}catch(t){r=r||[],t instanceof c?r=r.concat(l(t.errors)):r.push(t)}}}if(r)throw new c(r)}},t.prototype.add=function(r){var e=r;if(!r)return t.EMPTY;switch(typeof r){case"function":e=new t(r);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof t)){var s=e;(e=new t)._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+r+" added to Subscription.")}var i=e._parentOrParents;if(null===i)e._parentOrParents=this;else if(i instanceof t){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}var n=this._subscriptions;return null===n?this._subscriptions=[e]:n.push(e),e},t.prototype.remove=function(t){var r=this._subscriptions;if(r){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}},t.EMPTY=((r=new t).closed=!0,r),t}();function l(t){return t.reduce(function(t,r){return t.concat(r instanceof c?r.errors:r)},[])}var p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),d=function(t){function e(r,s,i){var n=t.call(this)||this;switch(n.syncErrorValue=null,n.syncErrorThrown=!1,n.syncErrorThrowable=!1,n.isStopped=!1,arguments.length){case 0:n.destination=o;break;case 1:if(!r){n.destination=o;break}if("object"==typeof r){r instanceof e?(n.syncErrorThrowable=r.syncErrorThrowable,n.destination=r,r.add(n)):(n.syncErrorThrowable=!0,n.destination=new b(n,r));break}default:n.syncErrorThrowable=!0,n.destination=new b(n,r,s,i)}return n}return r(e,t),e.prototype[p]=function(){return this},e.create=function(t,r,s){var i=new e(t,r,s);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(h),b=function(t){function s(r,s,i,n){var a,u=t.call(this)||this;u._parentSubscriber=r;var c=u;return e(s)?a=s:s&&(a=s.next,i=s.error,n=s.complete,s!==o&&(e((c=Object.create(s)).unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=a,u._error=i,u._complete=n,u}return r(s,t),s.prototype.next=function(t){if(!this.isStopped&&this._next){var r=this._parentSubscriber;i.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?this.__tryOrSetError(r,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},s.prototype.error=function(t){if(!this.isStopped){var r=this._parentSubscriber,e=i.useDeprecatedSynchronousErrorHandling;if(this._error)e&&r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(r.syncErrorThrowable)e?(r.syncErrorValue=t,r.syncErrorThrown=!0):n(t),this.unsubscribe();else{if(this.unsubscribe(),e)throw t;n(t)}}},s.prototype.complete=function(){var t=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var e=function(){return t._complete.call(t._context)};i.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?(this.__tryOrSetError(r,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}},s.prototype.__tryOrUnsub=function(t,r){try{t.call(this._context,r)}catch(t){if(this.unsubscribe(),i.useDeprecatedSynchronousErrorHandling)throw t;n(t)}},s.prototype.__tryOrSetError=function(t,r,e){if(!i.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,e)}catch(r){return i.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(n(r),!0)}return!1},s.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},s}(d),f="function"==typeof Symbol&&Symbol.observable||"@@observable";var y=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(r){var e=new t;return e.source=this,e.operator=r,e},t.prototype.subscribe=function(t,r,e){var s=this.operator,n=function(t,r,e){if(t){if(t instanceof d)return t;if(t[p])return t[p]()}return t||r||e?new d(t,r,e):new d(o)}(t,r,e);if(n.add(s?s.call(n,this.source):this.source||i.useDeprecatedSynchronousErrorHandling&&!n.syncErrorThrowable?this._subscribe(n):this._trySubscribe(n)),i.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable&&(n.syncErrorThrowable=!1,n.syncErrorThrown))throw n.syncErrorValue;return n},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){i.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),function(t){for(;t;){var r=t.destination;if(t.closed||t.isStopped)return!1;t=r&&r instanceof d?r:null}return!0}(t)?t.error(r):console.warn(r)}},t.prototype.forEach=function(t,r){var e=this;return new(r=_(r))(function(r,s){var i;i=e.subscribe(function(r){try{t(r)}catch(t){s(t),i&&i.unsubscribe()}},s,r)})},t.prototype._subscribe=function(t){var r=this.source;return r&&r.subscribe(t)},t.prototype[f]=function(){return this},t.prototype.pipe=function(){for(var t,r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return 0===r.length?this:((t=r)?1===t.length?t[0]:function(r){return t.reduce(function(t,r){return r(t)},r)}:function(){})(this)},t.prototype.toPromise=function(t){var r=this;return new(t=_(t))(function(t,e){var s;r.subscribe(function(t){return s=t},function(t){return e(t)},function(){return t(s)})})},t.create=function(r){return new t(r)},t}();function _(t){if(t||(t=i.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function v(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}v.prototype=Object.create(Error.prototype);var w,E=v,g=function(t){function e(r,e){var s=t.call(this)||this;return s.subject=r,s.subscriber=e,s.closed=!1,s}return r(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,r=t.observers;if(this.subject=null,r&&0!==r.length&&!t.isStopped&&!t.closed){var e=r.indexOf(this.subscriber);-1!==e&&r.splice(e,1)}}},e}(h),m=function(t){function e(r){var e=t.call(this,r)||this;return e.destination=r,e}return r(e,t),e}(d),S=function(t){function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return r(e,t),e.prototype[p]=function(){return new m(this)},e.prototype.lift=function(t){var r=new x(this,this);return r.operator=t,r},e.prototype.next=function(t){if(this.closed)throw new E;if(!this.isStopped)for(var r=this.observers,e=r.length,s=r.slice(),i=0;i<e;i++)s[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new E;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var r=this.observers,e=r.length,s=r.slice(),i=0;i<e;i++)s[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new E;this.isStopped=!0;for(var t=this.observers,r=t.length,e=t.slice(),s=0;s<r;s++)e[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new E;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(t){if(this.closed)throw new E;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new g(this,t))},e.prototype.asObservable=function(){var t=new y;return t.source=this,t},e.create=function(t,r){return new x(t,r)},e}(y),x=function(t){function e(r,e){var s=t.call(this)||this;return s.destination=r,s.source=e,s}return r(e,t),e.prototype.next=function(t){var r=this.destination;r&&r.next&&r.next(t)},e.prototype.error=function(t){var r=this.destination;r&&r.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):h.EMPTY},e}(S),T=function(t){function e(r){var e=t.call(this)||this;return e._value=r,e}return r(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var e=t.prototype._subscribe.call(this,r);return e&&!e.closed&&r.next(this._value),e},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new E;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(S);w||(w={});var P,O="http://localhost:8080/";async function j(t,r,e){try{const s=C.get(),i=await fetch(`${O}${r}`,{headers:{"Content-Type":"application/json",Authorization:`bearer ${s}`},credentials:"include",method:t,body:JSON.stringify(e)});return await i.json()}catch(t){throw t}}class C{static get(){return JSON.parse(localStorage.getItem(this.TokenKey))}static set(t){localStorage.setItem(this.TokenKey,t)}static remove(){localStorage.getItem(this.TokenKey)}}C.TokenKey="loggedUser",function(t){t.GET="GET",t.POST="POST",t.PUT="PUT",t.DELETE="DELETE"}(P||(P={}));class D{constructor(){this.list=new T([])}getList(){return this.list.asObservable()}getLastList(){return this.list.getValue()}request(t,r,e){return j(t,r,e)}}class L{constructor(){this.list=new T([])}getList(){return this.list.asObservable()}getLastList(){return this.list.getValue()}request(t,r,e){return j(t,r,e)}}class H{constructor(){this.list=new T([])}getList(){return this.list.asObservable()}getLastList(){return this.list.getValue()}request(t,r,e){return j(t,r,e)}}class q extends D{constructor(){super(...arguments),this.lista=[{id:0,endereco:{endereco:"Rua Monte Alto nº39",bairro:"vila Nova",cep:"17300",cidade:"Tupã",pais:"Brasil"},email:"cbjrcadu@gmail.com",nome:"Carlos Eduardo Benedetti",hash:"",cargo:"admin",usuario:"kry",refresh_tolken:"01"}]}updateList(){this.list.next(this.lista)}insert(t){this.lista.push(t),this.list.next(this.lista)}edit(t,r){this.lista[this.lista.findIndex(t=>t==r)]=t,this.list.next(this.lista)}remove(t){this.lista=this.lista.filter(r=>{if(r!=t)return r}),this.list.next(this.lista)}async tryLogin(t){return this.lista.find(r=>r.usuario==t.usuario)}}class I extends L{constructor(){super(...arguments),this.lista=[{id:0,nome:"teste",descricao:"teste item",preco:3.56,quantidade:1}]}updateList(){this.list.next(this.lista)}insert(t){this.lista.push(t),this.list.next(this.lista)}edit(t,r){this.lista[this.lista.findIndex(t=>t==r)]=t,this.list.next(this.lista)}remove(t){this.lista=this.lista.filter(r=>{if(r!=t)return r}),this.list.next(this.lista)}}class k extends H{constructor(){super(...arguments),this.lista=[{id:0,data_pedido:new Date("01"),carrinho:[{id:1,produto:"Creme de barbear",quantidade:1,valor_unitario:3.56,valor_total:3.56},{id:2,produto:"Coca-Cola",quantidade:2,valor_unitario:5.5,valor_total:11}],clente:{id:1,nome:"Carlos Eduardo Benedetti"},formaPagamento:"Cartão",status:"Pago",valorPedido:14.56},{id:1,data_pedido:new Date("0"),carrinho:[{id:3,produto:"Cerveja",quantidade:1,valor_unitario:6,valor_total:6},{id:4,produto:"Laranja Kg",quantidade:3,valor_unitario:3,valor_total:9}],clente:{id:1,nome:"Carlos Eduardo Benedetti"},formaPagamento:"Cartão",status:"Pago",valorPedido:14.56}]}updateList(){this.list.next(this.lista)}insert(t){this.lista.push(t),this.list.next(this.lista)}edit(t,r){this.lista[this.lista.findIndex(t=>t==r)]=t,this.list.next(this.lista)}remove(t){this.lista=this.lista.filter(r=>{if(r!=t)return r}),this.list.next(this.lista)}getCart(t){return this.lista[this.lista.findIndex(r=>r==t)]}getEnableCart(){return this.lista.find(t=>"não Pago"==t.status)}newCart(){this.lista.push({id:3,status:"não Pago",carrinho:[],clente:C.get(),data_pedido:new Date,valorPedido:0,formaPagamento:null})}closeEnableCart(t){this.lista[this.lista.findIndex(t=>t==this.getEnableCart())].formaPagamento=t,this.lista[this.lista.findIndex(t=>t==this.getEnableCart())].status="Pago"}addItemToCart(t){this.lista[this.lista.findIndex(t=>t==this.getEnableCart())].carrinho.push({id:t.id,produto:t.nome,quantidade:t.quantidade,valor_total:t.preco*t.quantidade,valor_unitario:t.preco})}}export{q as a,I as b,k as c};